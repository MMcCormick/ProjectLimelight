<% title = capture do %>
  <%= link_to object.title, object %>
  <% if object.response_to %>
    <span>@</span>
    <a href="<%= core_object_response_url(object.response_to) %>" class="r">
      <%= object.response_to.title %>
      <div class="<%= object.response_to.type.parameterize %>-grey-icon icon"></div>
    </a>
  <% end %>
<% end %>

<% video = capture do %>
  <%  if style == :grid %>
    <%= video_embed(object, 200, 180) %>
  <% else %>
    <%= video_embed(object, 150, 120) %>
  <% end %>
<% end %>

<% content = capture do %>
  <%= markdown(parse_mentions(object.content, object)) if style == :list %>
<% end %>

<% created_by = capture do %>
  <%= time_ago_in_words(object.created_at, false) %> ago by
  <%= user_link object.user_snippet %>
<% end %>

<%= render 'core_objects/list_teaser_content', :object => object, :title => title, :content => content, :created_by => created_by, :video => video %>

<%= render 'core_objects/list_teaser_mentions', :object => object %>

<%= render 'core_objects/list_teaser_action_box', :object => object %>